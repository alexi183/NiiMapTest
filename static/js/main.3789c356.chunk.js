(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a(241)},132:function(e,t,a){},200:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(97),c=a.n(o),l=(a(132),a(16)),m=a(6),s=a(99),i=a(100),u=a.n(i),d=a(96),p=a(17),E=a(34),f="ADD_ITEM";var b={marks:[],messageMarkerAdded:!1,deleteMark:!1,deleteConfirm:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(E.a)(e.marks).find(function(e){return e.title.toLowerCase()===t.marks.title.toLowerCase()})?Object(p.a)({},e,{marks:[].concat(Object(E.a)(e.marks),[t.marks]),deleteMark:!0}):Object(p.a)({},e,{marks:[].concat(Object(E.a)(e.marks),[t.marks]),messageMarkerAdded:!0});case"REMOVE_MARK_ADDED_MESSAGE":return Object(p.a)({},e,{messageMarkerAdded:!1});case"REMOVE_ITEM":var a=Object(E.a)(e.marks);return a.splice(t.payload,1),Object(p.a)({},e,{marks:a});case"REMOVE_ALERT":return Object(p.a)({},e,{deleteMark:!1,deleteConfirm:!0});case"RESET_ITEM":return Object(p.a)({},e,{deleteMark:!1,deleteConfirm:!1});case"REMOVE_CONFIRM":return Object(p.a)({},e,{deleteConfirm:!1});default:return e}};var v=Object(m.c)({marks:k,form:d.a}),O=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),g=Object(m.d)(v,O,Object(m.a)(s.a,u.a));g.subscribe(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(g.getState())});var M,y,h=g,j=a(45),N=a(46),C=a(50),_=a(47),A=a(51),I=a(94),R=a(68),S=a(95),w=function(e){return!e&&"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},T=function(e){return e&&!/^(0|[1-9][0-9]{0,2})+\.(0|[1-9][0-9]{0,8})$/i.test(e)&&"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u0441 \u0442\u043e\u0447\u043a\u043e\u0439"},D=function(e){return e&&isNaN(Number(e))&&"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e c \u0442\u043e\u0447\u043a\u043e\u0439"},V=(M=3,y=75,function(e){return e&&(e.length>y||e.length<M)&&"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(y," \u0438 \u043d\u0435 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 ").concat(M)}),x=(a(199),a(200),function(e){var t=e.input,a=e.type,r=e.name,o=e.placeholder,c=e.className,l=e.meta,m=l.touched,s=l.error;return n.a.createElement("div",{className:"form-row-input"},n.a.createElement("input",Object.assign({},t,{className:"".concat(m&&s?"form-control is-invalid":c),placeholder:o,type:a,name:r})),m&&s&&n.a.createElement("span",{className:"error"},s))}),J=function(e){function t(){return Object(j.a)(this,t),Object(C.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addItem,a=e.handleSubmit,r=e.reset,o=e.deleteMark,c=e.messageMarkerAdded,l=e.removeMarkMessage,m=e.removeItem,s=e.deleteConfirm,i=e.marks,u=e.resetItem,d=e.removeAlert,p=e.removeConfirm,E=e.pristine,f=e.submitting,b=i.length-1;return n.a.createElement("form",{className:"form",onSubmit:a(t)},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),n.a.createElement(I.a,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"form-control",component:x,validate:[w,V],name:"title"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"\u0428\u0438\u0440\u043e\u0442\u0430"),n.a.createElement(I.a,{type:"text",className:"form-control",placeholder:"__ . __",name:"latitude",validate:[w,D,T],component:x})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"),n.a.createElement(I.a,{type:"text",className:"form-control",placeholder:"__ . __",name:"longitude",validate:[w,D,T],component:x})),n.a.createElement("button",{type:"submit",disabled:E||f,className:"btn btn-primary mr-3"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440"),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:r},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),c&&setTimeout(l,3e3)&&n.a.createElement("div",{className:"mt-5 message"},n.a.createElement("div",null," \u041c\u0430\u0440\u043a\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d ")),o&&n.a.createElement("div",{className:"mt-5 message"},n.a.createElement("div",null," \u041c\u0430\u0440\u043a\u0435\u0440 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0435\u0433\u043e ? "),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-primary mr-3",onClick:function(){return setTimeout(m,3e3,b),void d()}},"\u0414\u0430"),n.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:function(){return u()}},"\u041d\u0435\u0442"))),s&&setTimeout(p,3e3)&&n.a.createElement("div",{className:"mt-5 message"},"\u041c\u0430\u0440\u043a\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0451\u043d \u0447\u0435\u0440\u0435\u0437 3 \u0441."))}}]),t}(r.Component),L=Object(S.a)({form:"marks",onSubmitSuccess:function(e,t){return t(Object(R.a)("marks"))}})(J),F=a(53),z=(a(238),function(e){return n.a.createElement(F.YMaps,null,n.a.createElement(F.Map,{state:{center:[55.75,37.57],zoom:7,controls:["zoomControl","fullscreenControl"]},width:500,height:500,modules:["control.ZoomControl","control.FullscreenControl"]},e.marks.map(function(e,t){return n.a.createElement(F.Placemark,{key:t,geometry:[e.latitude,e.longitude],options:{preset:"islands#nightDotIcon"},properties:{iconCaption:e.title}})})))}),G=(a(239),function(e){function t(){return Object(j.a)(this,t),Object(C.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"wrapper d-flex"},n.a.createElement("div",{className:"col"},n.a.createElement(L,this.props)),n.a.createElement("div",{className:"col"},n.a.createElement(z,this.props)))}}]),t}(r.Component)),K=Object(l.b)(function(e){return{marks:e.marks.marks,messageMarkerAdded:e.marks.messageMarkerAdded,markerAdded:e.marks.markerAdded,deleteMark:e.marks.deleteMark,deleteConfirm:e.marks.deleteConfirm}},function(e){return{addItem:function(){return e(function(e,t){var a=t().form.marks,r=t();console.log(r);var n={id:+t().marks.marks.length+1,title:a.values.title,latitude:+a.values.latitude,longitude:+a.values.longitude};e({type:f,marks:n})})},removeMarkMessage:function(){return e({type:"REMOVE_MARK_ADDED_MESSAGE"})},removeItem:function(t){return e({type:"REMOVE_ITEM",payload:t})},resetItem:function(){return e({type:"RESET_ITEM"})},removeAlert:function(){return e({type:"REMOVE_ALERT"})},removeConfirm:function(){return e({type:"REMOVE_CONFIRM"})}}})(G),B=(a(240),document.getElementById("root"));c.a.render(n.a.createElement(l.a,{store:h},n.a.createElement(K,null)),B)}},[[127,1,2]]]);
//# sourceMappingURL=main.3789c356.chunk.js.map